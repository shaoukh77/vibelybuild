services:
  - type: web
    name: vibelybuild
    env: node
    region: oregon
    plan: starter
    buildCommand: sh render-build.sh
    startCommand: npm start
    envVars:
      - key: NODE_ENV
        value: production
      - key: PORT
        value: 10000
      # Firebase Client (Public) - Add these in Render Dashboard
      - key: NEXT_PUBLIC_FIREBASE_API_KEY
        sync: false
      - key: NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN
        sync: false
      - key: NEXT_PUBLIC_FIREBASE_PROJECT_ID
        sync: false
      - key: NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET
        sync: false
      - key: NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID
        sync: false
      - key: NEXT_PUBLIC_FIREBASE_APP_ID
        sync: false
      - key: NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID
        sync: false
      # Firebase Admin (Secret) - Add these in Render Dashboard
      - key: FIREBASE_PROJECT_ID
        sync: false
      - key: FIREBASE_CLIENT_EMAIL
        sync: false
      - key: FIREBASE_PRIVATE_KEY
        sync: false
      # AI API Keys (Secret) - Add these in Render Dashboard
      - key: OPENAI_API_KEY
        sync: false
      - key: OPENAI_MODEL
        value: gpt-4-turbo
      - key: GROQ_API_KEY
        sync: false
      # GitHub (Optional) - Add these in Render Dashboard
      - key: GITHUB_TOKEN
        sync: false
      - key: GITHUB_OWNER
        sync: false
      # Site URL
      - key: NEXT_PUBLIC_SITE_URL
        sync: false
    healthCheckPath: /api/health
    autoDeploy: true
